<?php

$names = ['Kremas', 'lupdazis', 'nosinaite', 'telefonas'];

$random_arr_size = 0;

$rankinuko_turis = rand(5, 30);
$rank_daikto_size = rand(3, 10);

$daiktu_suma = 0 + $rank_daikto_size;


while($rankinuko_turis > $daiktu_suma) {
    
    if($rankinuko_turis  > $daiktu_suma + $rank_daikto_size) {
        
    $rank_daikto_size;
    $random_arr_size++;
    $daiktu_suma += $rank_daikto_size;
    
    } else {
        break;
    }
}

$bag = [];

for($i = 0; $i < $random_arr_size; $i++) {
    
    $chance = rand(1, 100);
    
    $bag_items = $names[rand(0, count($names) - 1)];
    $bag_items = [];
    
    $name = $names[rand(0, count($names) - 1)];
    $size = rand(3, 10);
    $is_dark = rand(0, 1);
    
    $bag_items[] = $name;
    $bag_items[] = $size;
    $bag_items[] = $is_dark;
    
    if($is_dark) {
        
        $chance = $chance / 2;
        $bag_items[] = $chance;
    } else {
        $bag_items[] = $chance;
    }
    
    $bag[$i] = $bag_items;
}

$result = '';

foreach ($bag as $item_array) {
    
        $result .= "<p>"
                         . $item_array[0] .
               ' Uzima ' . $item_array[1] . 
         ' cm3 Daiktas ' . $item_array[2] . 
 ' galimybe rasti daikta '.$item_array[3] . ' % ' .
                "</p>";

}

var_dump($bag);
?>
<!DOCTYPE html>
<html>
    <head>
        <title>Food</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
<?php
    print  $result . '<br>';
    print $rankinuko_turis;
?>
    </body>
</html>